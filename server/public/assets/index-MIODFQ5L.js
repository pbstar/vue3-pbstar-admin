import{a8 as V,ae as E,b as n,e as b,o as w,G as g,y as e,w as a,a6 as I,af as y,ag as U}from"./index-rvzZSy2J.js";import{E as h,a as S}from"./el-form-item-GSbK7uah.js";import{E as k}from"./el-button-y8f8HgP0.js";import{E as d,a as B}from"./el-message-c_khFlmu.js";import{_ as q}from"./_plugin-vue_export-helper-QQhFdce-.js";import"./castArray-N7KXf62o.js";const C={class:"box"},F={__name:"index",setup(M){const i=V(),_=E(),m=n(""),l=n(""),s=n(""),c=n("");b(()=>{let t=_.getInfo();m.value=t.account,c.value=t.id});const f=()=>{if(!l.value||!s.value){d.error("密码不能为空");return}if(l.value!=s.value){d.error("两次密码不一致");return}y({id:c.value,password:l.value}).then(t=>{t.code==200?(d.success("修改成功"),U.clearLocalStorage(),i.push({name:"login"})):d.error("修改失败")})};return(t,o)=>{const p=B,u=S,v=k,x=h;return w(),g("div",C,[e(x,{"label-width":"82px",style:{width:"400px",margin:"50px 30px"}},{default:a(()=>[e(u,{label:"账号"},{default:a(()=>[e(p,{modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=r=>m.value=r),readonly:"",placeholder:"请输入账号"},null,8,["modelValue"])]),_:1}),e(u,{label:"密码",required:""},{default:a(()=>[e(p,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=r=>l.value=r),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),e(u,{label:"确认密码",required:""},{default:a(()=>[e(p,{modelValue:s.value,"onUpdate:modelValue":o[2]||(o[2]=r=>s.value=r),placeholder:"请再次输入密码"},null,8,["modelValue"])]),_:1}),e(u,null,{default:a(()=>[e(v,{type:"primary",onClick:f},{default:a(()=>[I("确 认")]),_:1})]),_:1})]),_:1})])}}},j=q(F,[["__scopeId","data-v-3bf6c603"]]);export{j as default};
